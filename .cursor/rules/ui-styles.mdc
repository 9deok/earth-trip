---
globs: lib/**/presentation/widgets/**/*.dart,lib/core/**/*.dart
description: UI 스타일 분리/토큰화 규칙
alwaysApply: true
---

## 목표

스타일을 위젯 로직과 분리해 재사용성과 일관성을 높이고, 전역 토큰 기반 디자인 시스템을 유지합니다.

## 디렉터리

- 전역 토큰/테마: `lib/core/theme/` (예: `colors.dart`, `spacing.dart`, `text_styles.dart` or ThemeExtension)
- 위젯 전용 스타일: `features/<feature>/presentation/widgets/styles/*_styles.dart`

## 규칙

- 위젯 파일에서 `TextStyle`, `EdgeInsets`, `BoxDecoration`, `Shape` 등은 인라인 금지
- 스타일은 해당 위젯의 `XxxStyles` 정적 메서드로 제공하고, Theme/토큰을 입력으로 받아 계산
  - 전역 토큰: `AppColors`, `AppSpacing`, `AppRadii`, `AppTextStyles` 사용
- 다른 위젯의 스타일 파일을 직접 참조하지 않는다(순환/강결합 방지)

## UX 메시지/에러 처리 표준

- 사용자-facing 텍스트는 `core/i18n/strings.dart` 상수 사용
- 성공/실패 피드백은 `ScaffoldMessenger.of(context).showSnackBar(...)`로 통일
- 저장/삭제 실패 등 공통 에러 메시지는 `Strings.Errors` 사용

## 적용 예

- `PlanCard` → `PlanCardStyles.cardDecoration(context)` 형태로만 접근
- 버튼/텍스트/여백은 `XxxStyles.buttonStyle(context)`, `XxxStyles.paddingSmall` 등으로 노출
